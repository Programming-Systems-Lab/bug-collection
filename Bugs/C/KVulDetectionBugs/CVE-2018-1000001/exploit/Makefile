TARGET = RationalLove
OBJ = $(TARGET).o
SRC = $(TARGET).c
CC = gcc
CFLAGS = -g -no-pie
GLIBCDIR=/tmp/glibc_experiments/obj

$(TARGET): $(OBJ)
	 $(CC) $(CFLAGS) -L "$(GLIBCDIR)/lib" -I $(GLIBCDIR)/include -Wl,--rpath=$(GLIBCDIR) -Wl,--dynamic-linker=$(GLIBCDIR)/lib/ld-linux-x86-64.so.2 -std=c11 -o RationalLove -v RationalLove.c -pthread -fno-stack-protector


$(OBJ): $(SRC)
	$(CC) $(CFLAGS) -c $^

clean:
	rm -f *.o *.~ $(TARGET)
